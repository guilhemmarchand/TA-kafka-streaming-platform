# transforms.conf

[kafka_log_level]
REGEX = ^\[[^\]]+\]\s*(?P<log_level>\w+)\s*

[kafka_extractions]
REGEX = ^\[[^\]]+\]\s*\w+\s*(?P<component>\[[^\[\]]+\])?\s*(?P<message>.+)\s+\((?P<module>[^\)]+)\)$

#  _  __      __ _           _               _
# | |/ /__ _ / _| | ____ _  | |__  _ __ ___ | | _____ _ __ ___
# | ' // _` | |_| |/ / _` | | '_ \| '__/ _ \| |/ / _ \ '__/ __|
# | . \ (_| |  _|   < (_| | | |_) | | | (_) |   <  __/ |  \__ \
# |_|\_\__,_|_| |_|\_\__,_| |_.__/|_|  \___/|_|\_\___|_|  |___/
#

[kafka_broker_id_match1]
REGEX = (?i)controller\s(s|id){0,}[\s|=]{0,}(?P<kafka_broker_id>\d*)

[kafka_broker_id_match2]
REGEX = controllerId=(?P<kafka_broker_id>\d*)

#  _  __      __ _            ____                            _
# | |/ /__ _ / _| | ____ _   / ___|___  _ __  _ __   ___  ___| |_
# | ' // _` | |_| |/ / _` | | |   / _ \| '_ \| '_ \ / _ \/ __| __|
# | . \ (_| |  _|   < (_| | | |__| (_) | | | | | | |  __/ (__| |_
# |_|\_\__,_|_| |_|\_\__,_|  \____\___/|_| |_|_| |_|\___|\___|\__|
#

[kafka_connect_worker_discovering]
REGEX = ^\[[^\]]+\]\s*\w+\s*\[Worker\sclientId=(?P<worker_clientid>[^\,]*)\,\s*groupId=(?P<worker_groupid>[^\]]*)\]\s(?P<message>[^\(]*)\s*\(id:\s*(?P<worker_id>\d*)\s*rack:\s*(?P<worker_rack>[^\)]*)\)\s*\((?P<java_class>[^\)]*)\:\d*\)$

[kafka_connect_worker_task_activity]
REGEX = ^\[[^\]]+\]\s*\w+\s*(?P<component>\w+)\{id=(?P<task_id>[^\}]*)\}\s(?P<message>[^$]*)

[kafka_connect_worker_consumer_activity]
REGEX = ^\[[^\]]+\]\s*\w+\s*\[(?P<component>\w+)\s*(?P<task_id>[^\,]*)\,\s*(?P<message>[^$]*)

[kafka_connect_java_class]
SOURCE_KEY = message
REGEX = \s\((?P<java_class>[^\)]*)\:\d*\)$

[kafka_connect_work_commit_success_ms]
SOURCE_KEY = message
REGEX = Finished\s*commitOffsets\s*successfully\s*in\s*(?P<commit_success_millisec>[\d|\.]*)\s*ms
